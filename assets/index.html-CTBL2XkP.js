import{_ as t,c as o,a,o as i}from"./app-CHQIiBnY.js";const s={};function n(r,e){return i(),o("div",null,e[0]||(e[0]=[a('<p>在原有图片的功能上，结合 <strong>WebSocket</strong> 和 <strong>事件驱动</strong> 思想，让多位团队成员能够实时查看对同一张图片的编辑变化，具体流程如下：</p><ol><li>WebSocket 通信：前端与后端建立 WebSocket 连接后，后端保存各个图片对应的会话集合，以及当前正在编辑的用户信息；</li><li>编辑锁机制：只有一个用户可以进入编辑状态，其他用户只能实时查看该用户操作，避免并发问题；</li><li>事件驱动：每当用户对用户进行编辑（放大、旋转，裁切）等操作，相当于产生了一个事件，通过 WebSocket 服务器吧该事件分发给其他连接用户，实时广播更新；</li><li>断开连接：当正在编辑的用户断线或退出，自动释放编辑锁，其他用户可进入编辑状态。</li></ol><h3 id="事件驱动设计思想" tabindex="-1"><a class="header-anchor" href="#事件驱动设计思想"><span><strong>事件驱动设计思想</strong></span></a></h3><p>将系统内的操作抽象为 <strong>事件</strong>，当事件发生时，将事件交给异步处理器或消息总线，然后通知其他需要接收的组件或用户，从而 <strong>解耦</strong> 生产者和消费者，提高并发性能。</p>',4)]))}const l=t(s,[["render",n],["__file","index.html.vue"]]),d=JSON.parse(`{"path":"/study/wziot370/","title":"06、如何实现协同编辑？","lang":"zh-CN","frontmatter":{"title":"06、如何实现协同编辑？","author":null,"createTime":"2025/02/17 16:50:33","permalink":"/study/wziot370/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":3,"title":"事件驱动设计思想","slug":"事件驱动设计思想","link":"#事件驱动设计思想","children":[]}],"readingTime":{"minutes":1.07,"words":321},"git":{"updatedTime":1740622614000,"contributors":[{"name":"洪子丹","email":"302778213@qq.com","commits":1}]},"filePathRelative":"notes/study/project/06.md"}`);export{l as comp,d as data};
