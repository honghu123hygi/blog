import{_ as a,c as o,b as e,d as l,o as n}from"./app-CHQIiBnY.js";const i={};function s(m,t){return n(),o("div",null,t[0]||(t[0]=[e("p",null,"云图库中，不仅支持本地文件上传图片，还支持通过 URL 上传图片，具体流程如下：",-1),e("ol",null,[e("li",null,"前端将用户填写的图片 URL 发送给后端；"),e("li",null,[l("后端对该 URL 进行校验， 首先利用 "),e("strong",null,"HEAD"),l(" 请求的特性检查链接是否存在，并获取到文件的大小、类型等信息，而不是下载好文件在进行校验，如果文件并非图片或大小过大则拒绝上传；")]),e("li",null,"如果校验通过，后端使用 Hutool 的 HttpUtil.downloadFile 将图片下载到本地临时文件；"),e("li",null,"将临时文件上传到对象存储服务，并利用数据万象接口解析得到图片的的宽高、大小、格式等信息；"),e("li",null,"将解析到的信息和图片的 URL 写入到数据库中。")],-1),e("p",null,"其中步骤 4 和 5 可以利用已经实现的本地上传图片功能，因此可以使用设计模式的模板方法重构，减少重复代码，提高代码的可扩展性和可维护性。",-1)]))}const d=a(i,[["render",s],["__file","index.html.vue"]]),r=JSON.parse(`{"path":"/study/udmmphst/","title":"001、在云图库项目中，实现 URL 上传图片功能","lang":"zh-CN","frontmatter":{"title":"001、在云图库项目中，实现 URL 上传图片功能","author":null,"createTime":"2025/02/16 16:09:44","permalink":"/study/udmmphst/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[],"readingTime":{"minutes":0.99,"words":296},"git":{"updatedTime":1740623766000,"contributors":[{"name":"洪子丹","email":"302778213@qq.com","commits":3}]},"filePathRelative":"notes/study/project/01.md"}`);export{d as comp,r as data};
