<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.9" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.52" /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><title>SQL基础 | 博客</title><meta name="description" content="欢迎来到博客"><link rel="preload" href="/assets/style-sPKmHi9O.css" as="style"><link rel="stylesheet" href="/assets/style-sPKmHi9O.css"><link rel="modulepreload" href="/assets/app-CHQIiBnY.js"><link rel="modulepreload" href="/assets/index.html-CwHrs2fL.js"><link rel="prefetch" href="/assets/index.html-P5O9ymRf.js" as="script"><link rel="prefetch" href="/assets/index.html-C4n2OZGX.js" as="script"><link rel="prefetch" href="/assets/index.html-DRakEfZZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BW9NW_PE.js" as="script"><link rel="prefetch" href="/assets/index.html-CEOCWfyy.js" as="script"><link rel="prefetch" href="/assets/index.html-BFnXwMCm.js" as="script"><link rel="prefetch" href="/assets/index.html-CPTXWx8p.js" as="script"><link rel="prefetch" href="/assets/index.html-Dj3Ix8CQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BdYtd8AS.js" as="script"><link rel="prefetch" href="/assets/index.html-BCcm8How.js" as="script"><link rel="prefetch" href="/assets/index.html-BijEZI3V.js" as="script"><link rel="prefetch" href="/assets/index.html-CgnHJWio.js" as="script"><link rel="prefetch" href="/assets/index.html-BsAhXAZz.js" as="script"><link rel="prefetch" href="/assets/index.html-DTsu3frG.js" as="script"><link rel="prefetch" href="/assets/index.html-BiJZO9BF.js" as="script"><link rel="prefetch" href="/assets/index.html-D_nWUAE9.js" as="script"><link rel="prefetch" href="/assets/index.html-CX5zHxA2.js" as="script"><link rel="prefetch" href="/assets/index.html-C6OSLl2r.js" as="script"><link rel="prefetch" href="/assets/index.html-Dmq4qG72.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv2HugiW.js" as="script"><link rel="prefetch" href="/assets/index.html-CJQbFbQH.js" as="script"><link rel="prefetch" href="/assets/index.html-7psB-xlV.js" as="script"><link rel="prefetch" href="/assets/index.html-R0ti6a4s.js" as="script"><link rel="prefetch" href="/assets/index.html-7C-wYHL9.js" as="script"><link rel="prefetch" href="/assets/index.html-D4RZSTlI.js" as="script"><link rel="prefetch" href="/assets/index.html-DhdLFuDj.js" as="script"><link rel="prefetch" href="/assets/index.html-CZ4paJh-.js" as="script"><link rel="prefetch" href="/assets/index.html-BqwGRJdo.js" as="script"><link rel="prefetch" href="/assets/index.html-Dzhdrqfo.js" as="script"><link rel="prefetch" href="/assets/index.html-CTX9JSyu.js" as="script"><link rel="prefetch" href="/assets/index.html-BJox3PSp.js" as="script"><link rel="prefetch" href="/assets/index.html-BZNXV70R.js" as="script"><link rel="prefetch" href="/assets/index.html-ezEjVihU.js" as="script"><link rel="prefetch" href="/assets/index.html-U4R2ie_6.js" as="script"><link rel="prefetch" href="/assets/index.html-CRCGn5vH.js" as="script"><link rel="prefetch" href="/assets/index.html-DO6eUd6i.js" as="script"><link rel="prefetch" href="/assets/index.html-BmZELFw0.js" as="script"><link rel="prefetch" href="/assets/index.html-dFwGkf62.js" as="script"><link rel="prefetch" href="/assets/index.html-BqFROzVN.js" as="script"><link rel="prefetch" href="/assets/index.html-DnKAi0g7.js" as="script"><link rel="prefetch" href="/assets/index.html-Cog8eiDT.js" as="script"><link rel="prefetch" href="/assets/index.html-CkVzSJSa.js" as="script"><link rel="prefetch" href="/assets/index.html-BWrPpH_l.js" as="script"><link rel="prefetch" href="/assets/index.html-BjhDwID4.js" as="script"><link rel="prefetch" href="/assets/index.html-dsJ4zsWb.js" as="script"><link rel="prefetch" href="/assets/index.html-BNSqpcHW.js" as="script"><link rel="prefetch" href="/assets/index.html-D_iw3fXc.js" as="script"><link rel="prefetch" href="/assets/index.html-CDqPFBMS.js" as="script"><link rel="prefetch" href="/assets/index.html-DG9wKGE_.js" as="script"><link rel="prefetch" href="/assets/index.html-3ArkfmY1.js" as="script"><link rel="prefetch" href="/assets/index.html-GQooVduZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BtxDsmmn.js" as="script"><link rel="prefetch" href="/assets/index.html-EonBFtO9.js" as="script"><link rel="prefetch" href="/assets/index.html-5MRJUs92.js" as="script"><link rel="prefetch" href="/assets/index.html-CxshhEs9.js" as="script"><link rel="prefetch" href="/assets/index.html-67_Ggkd3.js" as="script"><link rel="prefetch" href="/assets/index.html-DjG1qRFK.js" as="script"><link rel="prefetch" href="/assets/index.html-DGN2Ohsj.js" as="script"><link rel="prefetch" href="/assets/index.html-fv2CIo17.js" as="script"><link rel="prefetch" href="/assets/index.html-BIxANljp.js" as="script"><link rel="prefetch" href="/assets/index.html-CTBL2XkP.js" as="script"><link rel="prefetch" href="/assets/index.html-BhSBzWQX.js" as="script"><link rel="prefetch" href="/assets/index.html-2Bg-zfCH.js" as="script"><link rel="prefetch" href="/assets/index.html-k-DZ4VUb.js" as="script"><link rel="prefetch" href="/assets/index.html-BLktw-_Y.js" as="script"><link rel="prefetch" href="/assets/index.html-DCzqI8iM.js" as="script"><link rel="prefetch" href="/assets/index.html-BiBWY16d.js" as="script"><link rel="prefetch" href="/assets/index.html-DTVrLIj9.js" as="script"><link rel="prefetch" href="/assets/index.html-D1sOksyJ.js" as="script"><link rel="prefetch" href="/assets/index.html-D4GmwSD0.js" as="script"><link rel="prefetch" href="/assets/index.html-DyNWyMGs.js" as="script"><link rel="prefetch" href="/assets/index.html-DK2kGPt8.js" as="script"><link rel="prefetch" href="/assets/index.html-D5BSY7DY.js" as="script"><link rel="prefetch" href="/assets/index.html-BItgu39e.js" as="script"><link rel="prefetch" href="/assets/index.html-BkA5qhPx.js" as="script"><link rel="prefetch" href="/assets/index.html-X9onHQ6Q.js" as="script"><link rel="prefetch" href="/assets/index.html-BGyL8QeX.js" as="script"><link rel="prefetch" href="/assets/index.html-BFwLaNU8.js" as="script"><link rel="prefetch" href="/assets/index.html-CKoPsVJZ.js" as="script"><link rel="prefetch" href="/assets/404.html-aBHYtIVx.js" as="script"><link rel="prefetch" href="/assets/index.html-BSmtbfKT.js" as="script"><link rel="prefetch" href="/assets/index.html-BhSN0Nhe.js" as="script"><link rel="prefetch" href="/assets/index.html-lKWjAx77.js" as="script"><link rel="prefetch" href="/assets/SearchBox-CYwgx_hH.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume" data-v-eb0efd70><!--[--><!--[--><span tabindex="-1" data-v-a5cce53b></span><a href="#LayoutContent" class="skip-link visually-hidden" data-v-a5cce53b> Skip to content </a><!--]--><!----><div class="nav-wrapper" data-v-eb0efd70 data-v-56aabd22><div class="navbar-wrapper" data-v-56aabd22 data-v-685bd9cf><div class="container" data-v-685bd9cf><div class="title" data-v-685bd9cf><div class="navbar-title" data-v-685bd9cf data-v-3177d4bf><a class="auto-link link title" href="/" data-v-3177d4bf data-v-8951c46f><!--[--><!----> 博客<!--]--><!----></a></div></div><div class="content" data-v-685bd9cf><div class="curtain" data-v-685bd9cf></div><div class="content-body" data-v-685bd9cf><div class="navbar-search search" data-v-685bd9cf><div class="search-wrapper" data-v-dbf6c040><!----><div id="local-search" data-v-dbf6c040><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-dbf6c040><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="navbar-menu menu" data-v-685bd9cf data-v-e554bd69><span id="main-nav-aria-label" class="visually-hidden" data-v-e554bd69>Main Navigation</span><!--[--><!--[--><a class="auto-link link navbar-menu-link" href="/" data-v-e554bd69 data-v-38290752 data-v-8951c46f><!--[--><!----><i data-v-38290752>首页</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/blog/" data-v-e554bd69 data-v-38290752 data-v-8951c46f><!--[--><!----><i data-v-38290752>博客</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/myRpc/" data-v-e554bd69 data-v-38290752 data-v-8951c46f><!--[--><!----><i data-v-38290752>RPC框架</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/interview/" data-v-e554bd69 data-v-38290752 data-v-8951c46f><!--[--><!----><i data-v-38290752>八股文</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/study/" data-v-e554bd69 data-v-38290752 data-v-8951c46f><!--[--><!----><i data-v-38290752>春招</i><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="navbar-appearance appearance" data-v-685bd9cf data-v-de2ce1e2><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-de2ce1e2 data-v-b4a985f8 data-v-d7679eb1><span class="check" data-v-d7679eb1><span class="icon" data-v-d7679eb1><!--[--><span class="vpi-sun sun" data-v-b4a985f8></span><span class="vpi-moon moon" data-v-b4a985f8></span><!--]--></span></span></button></div><!----><div class="flyout-wrapper navbar-extra extra" data-v-685bd9cf data-v-1d5f4770 data-v-41d6a1d8><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-41d6a1d8><span class="vpi-more-horizontal icon" data-v-41d6a1d8></span></button><div class="menu" data-v-41d6a1d8><div class="menu-wrapper" data-v-41d6a1d8 data-v-2aa2bb29><!----><!--[--><!--[--><!----><div class="group" data-v-1d5f4770><div class="item appearance" data-v-1d5f4770><p class="label" data-v-1d5f4770>外观</p><div class="appearance-action" data-v-1d5f4770><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-1d5f4770 data-v-b4a985f8 data-v-d7679eb1><span class="check" data-v-d7679eb1><span class="icon" data-v-d7679eb1><!--[--><span class="vpi-sun sun" data-v-b4a985f8></span><span class="vpi-moon moon" data-v-b4a985f8></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-685bd9cf data-v-c856f8d3><span class="container" data-v-c856f8d3><span class="top" data-v-c856f8d3></span><span class="middle" data-v-c856f8d3></span><span class="bottom" data-v-c856f8d3></span></span></button></div></div></div></div><!----></div><div class="local-nav reached-top is-blog" data-v-eb0efd70 data-v-50955389><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-50955389><span class="vpi-align-left menu-icon" data-v-50955389></span><span class="menu-text" data-v-50955389>Menu</span></button><div class="local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-50955389 data-v-969759bd><button class="" data-v-969759bd>此页内容 <span class="vpi-chevron-right icon" data-v-969759bd></span></button><!----></div></div><!----><div id="LayoutContent" class="layout-content" data-v-eb0efd70 data-v-63367bdf><!--[--><div class="has-aside is-blog plume-page" data-v-0b649db1><div class="container" data-v-0b649db1><div class="aside" data-v-0b649db1><div class="aside-container" data-v-0b649db1><div class="aside-content" data-v-0b649db1><div class="page-aside" data-v-0b649db1 data-v-ffc2a4d7><div class="has-outline page-aside-outline" data-v-ffc2a4d7><div class="content" data-v-ffc2a4d7><div class="outline-marker" data-v-ffc2a4d7></div><div class="outline-title" data-v-ffc2a4d7><span data-v-ffc2a4d7>此页内容</span><span class="vpi-print icon" data-v-ffc2a4d7></span></div><nav aria-labelledby="doc-outline-aria-label" data-v-ffc2a4d7><span id="doc-outline-aria-label" class="visually-hidden" data-v-ffc2a4d7> Table of Contents for current page </span><ul class="root" data-v-ffc2a4d7 data-v-a2310447><!--[--><li data-v-a2310447><a class="outline-link" href="#别名" data-v-a2310447>别名</a><!----></li><li data-v-a2310447><a class="outline-link" href="#常量和运算" data-v-a2310447>常量和运算</a><!----></li><li data-v-a2310447><a class="outline-link" href="#运算符" data-v-a2310447>运算符</a><!----></li><li data-v-a2310447><a class="outline-link" href="#空值" data-v-a2310447>空值</a><!----></li><li data-v-a2310447><a class="outline-link" href="#模糊查询" data-v-a2310447>模糊查询</a><!----></li><li data-v-a2310447><a class="outline-link" href="#逻辑运算" data-v-a2310447>逻辑运算</a><!----></li><li data-v-a2310447><a class="outline-link" href="#去重" data-v-a2310447>去重</a><!----></li><li data-v-a2310447><a class="outline-link" href="#排序" data-v-a2310447>排序</a><!----></li><li data-v-a2310447><a class="outline-link" href="#截断和偏移" data-v-a2310447>截断和偏移</a><!----></li><li data-v-a2310447><a class="outline-link" href="#条件分支" data-v-a2310447>条件分支</a><!----></li><li data-v-a2310447><a class="outline-link" href="#时间函数" data-v-a2310447>时间函数</a><!----></li><li data-v-a2310447><a class="outline-link" href="#字符串处理" data-v-a2310447>字符串处理</a><!----></li><li data-v-a2310447><a class="outline-link" href="#聚合函数" data-v-a2310447>聚合函数</a><!----></li><li data-v-a2310447><a class="outline-link" href="#单字段分组" data-v-a2310447>单字段分组</a><!----></li><li data-v-a2310447><a class="outline-link" href="#多字段分组" data-v-a2310447>多字段分组</a><!----></li><li data-v-a2310447><a class="outline-link" href="#having-子句" data-v-a2310447>having 子句</a><!----></li><!--]--></ul></nav></div></div></div></div></div></div><div class="content" data-v-0b649db1><div class="content-container" data-v-0b649db1><!--[--><!----><h1 class="page-title" data-v-c3361043>SQL基础</h1><div class="page-meta-wrapper" data-v-c3361043><!----><p class="reading-time" data-v-c3361043><span class="vpi-books icon" data-v-c3361043></span><span data-v-c3361043>3591字</span><span data-v-c3361043>约12分钟</span></p><!----><p class="create-time" data-v-c3361043><span class="vpi-clock icon" data-v-c3361043></span><span data-v-c3361043>2024-06-04</span></p></div><!--]--><!--[--><div style="position:relative;" data-v-0b649db1><div class="plume-content" data-v-0b649db1><h1 id="基础" tabindex="-1"><a class="header-anchor" href="#基础"><span>基础</span></a></h1><h2 id="别名" tabindex="-1"><a class="header-anchor" href="#别名"><span>别名</span></a></h2><p>使用别名语法 <code>{原始字段名} as {别名}</code> 来为查询结果的列名取一个便于理解的名称。通过使用别名，我们可以更直观地知道查询结果中每一列的含义，方便阅读和使用。 as 也可以省略，比如 <code>name 员工姓名</code> 也是 ok 的。</p><p>如：从名为 <code>student</code> 的数据表中选择出所有学生的姓名（name）和年龄（age）信息，并为它们取别名为 <code>学生姓名</code> 和 <code>学生年龄</code>。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 学生姓名, age 学生年龄 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="常量和运算" tabindex="-1"><a class="header-anchor" href="#常量和运算"><span>常量和运算</span></a></h2><p>在查询语句中对数据进行加减乘除、取平均值、连接文本等操作，从而得到我们想要的查询结果。</p><p>如：从名为<code>student</code>的数据表中选择出所有学生的姓名（name）和分数（score），并且额外计算出分数的 2 倍（double_score）。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, score, score </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> double_score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="运算符" tabindex="-1"><a class="header-anchor" href="#运算符"><span>运算符</span></a></h2><p>运算符是 SQL 中用于在条件查询中进行条件判断的特殊符号，比如 <code>=</code>、 <code>!=</code>、<code>&lt;</code>、<code>&gt;</code> 等。通过使用不同的运算符，我们可以在查询语句中设定多样化的条件，从而根据数据的不同属性进行灵活的筛选和过滤。</p><p>如：从名为 <code>student</code> 的数据表中选择出所有学生的姓名（name）和年龄（age），要求学生姓名不等于 &#39;热dog&#39; 。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, age </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">热dog</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>​ 筛选出年龄在 15 到 17 之间的学生。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, age </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> age </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">between</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 15</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> and</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 70</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="空值" tabindex="-1"><a class="header-anchor" href="#空值"><span>空值</span></a></h2><p>在数据库中，有时候数据表的某些字段可能没有值，即为空值（NULL）。</p><p>空值表示该字段的值是未知的、不存在的或者没有被填写的。在SQL查询中，我们可以使用 &quot;IS NULL&quot; 和 &quot;IS NOT NULL&quot; 来判断字段是否为空值或非空值。</p><p>如：从名为 <code>student</code> 的数据表中选择出所有学生的姓名（name）、年龄（age）和成绩（score），要求学生年龄不为空值。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, age, score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> age </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">is not null</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="模糊查询" tabindex="-1"><a class="header-anchor" href="#模糊查询"><span>模糊查询</span></a></h2><p>模糊查询是一种特殊的条件查询，它允许我们根据模式匹配来查找符合特定条件的数据，可以使用 LIKE 关键字实现模糊查询。</p><p>在 LIKE 模糊查询中，我们使用通配符来代表零个或多个字符，从而能够快速地找到匹配的数据。</p><p>有如下 2 种通配符：</p><ul><li>百分号（%）：表示任意长度的任意字符序列。</li><li>下划线（_）：表示任意单个字符。</li></ul><p>如：从名为 <code>student</code> 的数据表中选择出所有学生的姓名（name）和成绩（score），要求姓名（name）不包含 &quot;李&quot; 这个字。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> not</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> like</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">%李%</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="逻辑运算" tabindex="-1"><a class="header-anchor" href="#逻辑运算"><span>逻辑运算</span></a></h2><p>逻辑运算是一种在条件查询中使用的运算符，它允许我们结合多个条件来过滤出符合特定条件的数据。</p><p>在逻辑运算中，常用的运算符有：</p><ul><li>AND：表示逻辑与，要求同时满足多个条件，才返回 true。</li><li>OR：表示逻辑或，要求满足其中任意一个条件，就返回 true。</li><li>NOT：表示逻辑非，用于否定一个条件（本来是 true，用了 not 后转为 false）</li></ul><p>如：从名为 <code>student</code> 的数据表中选择出所有学生的姓名（name）、成绩（score），要求学生的姓名包含 &quot;李&quot;，或者成绩（score）大于 500。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> like</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">%李%</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> or</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> score </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 500</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="去重" tabindex="-1"><a class="header-anchor" href="#去重"><span>去重</span></a></h2><p>在数据表中，可能存在重复的数据记录，但如果我们想要过滤掉重复的记录，只保留不同的记录，就要使用 SQL 的去重功能。</p><p>在 SQL 中，我们可以使用 <code>DISTINCT</code> 关键字来实现去重操作。</p><p>如：从名为 <code>student</code> 的数据表中选择出所有不重复的班级 ID（class_id）和考试编号（exam_num）的组合。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select distinct</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> class_id, exam_num </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="排序" tabindex="-1"><a class="header-anchor" href="#排序"><span>排序</span></a></h2><p>在查询数据时，我们有时希望对结果按照某个字段的值进行排序，以便更好地查看数据。</p><p>在 SQL 中，我们可以使用 <code>ORDER BY</code> 关键字来实现排序操作。<code>ORDER BY</code> 后面跟上需要排序的字段，可以选择升序（ASC）或降序（DESC）排列。</p><p>在排序的基础上，我们还可以根据多个字段的值进行排序。当第一个字段的值相同时，再按照第二个字段的值进行排序，以此类推。</p><p>示例语法如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段1 [升序/降序], 字段2 [升序/降序], ...</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如：从名为 <code>student</code> 的数据表中选择出学生姓名（name）、年龄（age）和成绩（score），首先按照成绩从大到小排序，如果成绩相同，则按照年龄从小到大排序。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, age, score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">desc</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, age </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">asc</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="截断和偏移" tabindex="-1"><a class="header-anchor" href="#截断和偏移"><span>截断和偏移</span></a></h2><p>先用一个比喻来引出截断和偏移的概念。</p><p>假设你有一张待办事项清单，上面有很多任务。当你每次只想查看其中的几个任务时，会怎么办呢？</p><p>1）你可以使用手指挡住不需要看的部分（即截断）</p><p>2）根据任务的编号，直接翻到需要查看的位置（即偏移）</p><p>在 SQL 中，我们使用 <code>LIMIT</code> 关键字来实现数据的截断和偏移。</p><p>截断和偏移的一个典型的应用场景是分页，即网站内容很多时，用户可以根据页号每次只看部分数据。</p><p><strong>示例：</strong></p><p>假设有一张名为 <code>tasks</code> 的数据表，它存储了待办事项信息，包括任务名称（task_name）和截止日期（due_date）等。</p><p>数据表<code>tasks</code>：</p><table><thead><tr><th>task_name</th><th>due_date</th></tr></thead><tbody><tr><td>完成报告</td><td>2023-08-05</td></tr><tr><td>预约医生</td><td>2023-08-08</td></tr><tr><td>购买礼物</td><td>2023-08-10</td></tr><tr><td>安排旅行</td><td>2023-08-15</td></tr></tbody></table><p>现在，我们使用<code>LIMIT</code>关键字来进行分页查询：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- LIMIT 后只跟一个整数，表示要截断的数据条数（一次获取几条）</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> task_name, due_date </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> tasks </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">limit</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- LIMIT 后跟 2 个整数，依次表示从第几条数据开始、一次获取几条</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> task_name, due_date </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> tasks </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">limit</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询语句 1 结果，只获取了 2 条数据：</p><table><thead><tr><th>task_name</th><th>due_date</th></tr></thead><tbody><tr><td>完成报告</td><td>2023-08-05</td></tr><tr><td>预约医生</td><td>2023-08-08</td></tr></tbody></table><p>查询语句 2 结果，从下标为 2（第 3 条）数据的位置开始获取 2 条数据：</p><table><thead><tr><th>task_name</th><th>due_date</th></tr></thead><tbody><tr><td>购买礼物</td><td>2023-08-10</td></tr><tr><td>安排旅行</td><td>2023-08-15</td></tr></tbody></table><p>通过上述 SQL 查询语句，我们分别选取了待办事项表中的前两个任务和从第三个任务开始的两个任务，实现了数据的截断和偏移。</p><p>如：从名为 <code>student</code> 的数据表中选择学生姓名（name）和年龄（age），按照年龄从小到大排序，从第 2 条数据开始、截取 3 个学生的信息。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, age </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> age </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">asc</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> limit</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="条件分支" tabindex="-1"><a class="header-anchor" href="#条件分支"><span>条件分支</span></a></h2><p>条件分支 <code>case when</code> 是 SQL 中用于根据条件进行分支处理的语法。它类似于其他编程语言中的 if else 条件判断语句，允许我们根据不同的条件选择不同的结果返回。</p><p>使用 <code>case when</code> 可以在查询结果中根据特定的条件动态生成新的列或对现有的列进行转换。</p><p><strong>示例</strong></p><p>假设有一个学生表 <code>student</code>，包含以下字段：<code>name</code>（姓名）、<code>age</code>（年龄）。数据如下：</p><table><thead><tr><th>name</th><th>age</th></tr></thead><tbody><tr><td>小明</td><td>18</td></tr><tr><td>鸡哥</td><td>25</td></tr><tr><td>李华</td><td>30</td></tr><tr><td>王五</td><td>40</td></tr></tbody></table><p>使用条件分支 <code>case when</code> ，根据 name 来判断学生是否会说 RAP，并起别名为 can_rap。</p><p>示例 SQL 如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  CASE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> WHEN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">鸡哥</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">THEN</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">会</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ELSE</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">不会</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> END</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> can_rap</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  student;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果：</p><table><thead><tr><th>name</th><th>can_rap</th></tr></thead><tbody><tr><td>小明</td><td>不会</td></tr><tr><td>鸡哥</td><td>会</td></tr><tr><td>李华</td><td>不会</td></tr><tr><td>王五</td><td>不会</td></tr></tbody></table><p><code>case when</code> 支持同时指定多个分支，示例语法如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CASE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> WHEN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (条件1) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">THEN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 结果1</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">	   WHEN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (条件2) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">THEN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 结果2</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	   ...</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">	   ELSE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 其他结果 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">END</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如：有一个学生表 <code>student</code>，包含以下字段：<code>name</code>（姓名）、<code>age</code>（年龄）。请你编写一个 SQL 查询，将学生按照年龄划分为三个年龄等级（age_level）：60 岁以上为 &quot;老同学&quot;，20 岁以上（不包括 60 岁以上）为 &quot;年轻&quot;，20 岁以下为 &quot;小同学&quot;。</p><p>返回结果应包含学生的姓名（name）和年龄等级（age_level），并按姓名升序排序。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CASE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> WHEN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (age</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">60</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">THEN</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">老同学</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> WHEN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (age</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">THEN</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">年轻</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ELSE</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">小同学</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> END</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> age_level </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> asc</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="函数" tabindex="-1"><a class="header-anchor" href="#函数"><span>函数</span></a></h1><h2 id="时间函数" tabindex="-1"><a class="header-anchor" href="#时间函数"><span>时间函数</span></a></h2><p>在 SQL 中，时间函数是用于处理日期和时间的特殊函数。它们允许我们在查询中操作和处理日期、时间、日期时间数据，从而使得在数据库中进行时间相关的操作变得更加方便和灵活。</p><p>常用的时间函数有：</p><ul><li>DATE：获取当前日期</li><li>DATETIME：获取当前日期时间</li><li>TIME：获取当前时间</li></ul><p>另外使用时间函数获取当前日期、当前日期时间和当前时间：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 获取当前日期</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> DATE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> current_date;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 获取当前日期时间</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> DATETIME</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> current_datetime;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 获取当前时间</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> TIME</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> current_time;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如：有一个学生表 <code>student</code>，包含以下字段：<code>name</code>（姓名）、<code>age</code>（年龄）。</p><p>请你编写一个 SQL 查询，展示所有学生的姓名（name）和当前日期（列名为 &quot;当前日期&quot;）。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 当前日期 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="字符串处理" tabindex="-1"><a class="header-anchor" href="#字符串处理"><span>字符串处理</span></a></h2><p>在 SQL 中，字符串处理是一类用于处理文本数据的函数。它们允许我们对字符串进行各种操作，如转换大小写、计算字符串长度以及搜索和替换子字符串等。字符串处理函数可以帮助我们在数据库中对字符串进行加工和转换，从而满足不同的需求。</p><p>1）使用字符串处理函数 <code>UPPER</code> 将姓名转换为大写：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 将姓名转换为大写</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">UPPER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> upper_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2）使用字符串处理函数 <code>LENGTH</code> 计算姓名长度：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 计算姓名长度</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">LENGTH</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> name_length</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3）使用字符串处理函数 <code>LOWER</code> 将姓名转换为小写：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 将姓名转换为小写并进行条件筛选</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">LOWER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> lower_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> employees;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如：有一个学生表 <code>student</code>，包含以下字段：<code>id</code>（学号）、<code>name</code>（姓名）。请你编写一个 SQL 查询，筛选出姓名为 &#39;热dog&#39; 的学生，展示其学号（id）、姓名（name）及其大写姓名（upper_name）。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> id, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">UPPER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> upper_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">热dog</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="聚合函数" tabindex="-1"><a class="header-anchor" href="#聚合函数"><span>聚合函数</span></a></h2><p>在 SQL 中，聚合函数是一类用于对数据集进行 <strong>汇总计算</strong> 的特殊函数。它们可以对一组数据执行诸如计数、求和、平均值、最大值和最小值等操作。聚合函数通常在 SELECT 语句中配合 GROUP BY 子句使用，用于对分组后的数据进行汇总分析。</p><p>常见的聚合函数包括：</p><ul><li>COUNT：计算指定列的行数或非空值的数量。</li><li>SUM：计算指定列的数值之和。</li><li>AVG：计算指定列的数值平均值。</li><li>MAX：找出指定列的最大值。</li><li>MIN：找出指定列的最小值。</li></ul><p>1）使用聚合函数 <code>COUNT</code> 计算订单表中的总订单数：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> COUNT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> order_num </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2）使用聚合函数 <code>COUNT(DISTINCT 列名)</code> 计算订单表中不同客户的数量：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> COUNT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DISTINCT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> customer_id) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> customer_num </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3）使用聚合函数 <code>SUM</code> 计算总订单金额：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> SUM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(amount) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> total_amount </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如：有一个学生表 <code>student</code>，包含以下字段：<code>id</code>（学号）、<code>name</code>（姓名）、<code>class_id</code>（班级编号）、<code>score</code>（成绩）。请你编写一个 SQL 查询，汇总学生表中所有学生的总成绩（total_score）、平均成绩（avg_score）、最高成绩（max_score）和最低成绩（min_score）。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> SUM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(score) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> total_score, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">AVG</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(score) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> avg_score, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">MAX</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(score) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> max_score, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">MIN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(score) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> min_score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="分组聚合" tabindex="-1"><a class="header-anchor" href="#分组聚合"><span>分组聚合</span></a></h1><h2 id="单字段分组" tabindex="-1"><a class="header-anchor" href="#单字段分组"><span>单字段分组</span></a></h2><p>在 SQL 中，分组聚合是一种对数据进行分类并对每个分类进行聚合计算的操作。它允许我们按照指定的列或字段对数据进行分组，然后对每个分组应用聚合函数，如 COUNT、SUM、AVG 等，以获得分组后的汇总结果。</p><p>举个例子：某个学校可以按照班级将学生分组，并对每个班级进行统计。查看每个班级有多少学生、每个班级的平均成绩。这样我们就能够对学校各班的学生情况有一个整体的了解，而不是单纯看个别学生的信息。</p><p>在 SQL 中，通常使用 <code>GROUP BY</code> 关键字对数据进行分组。</p><p>如：有一个学生表 <code>student</code>，包含以下字段：<code>id</code>（学号）、<code>name</code>（姓名）、<code>class_id</code>（班级编号）、<code>score</code>（成绩）。请你编写一个 SQL 查询，统计学生表中每个班级的平均成绩（avg_score）。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> class_id, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">AVG</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(score) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> avg_score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">GROUP BY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> class_id;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="多字段分组" tabindex="-1"><a class="header-anchor" href="#多字段分组"><span>多字段分组</span></a></h2><p>有时，单字段分组并不能满足我们的需求，比如想统计学校里每个班级每次考试的学生情况，这时就可以使用多字段分组。</p><p>多字段分组和单字段分组的实现方式几乎一致，使用 <code>GROUP BY</code> 语法即可。</p><p>如：有一个学生表 <code>student</code>，包含以下字段：<code>id</code>（学号）、<code>name</code>（姓名）、<code>class_id</code>（班级编号）、<code>exam_num</code>（考试次数）、<code>score</code>（成绩）。请你编写一个 SQL 查询，统计学生表中每个班级每次考试的总学生人数（total_num）。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> class_id, exam_num, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">COUNT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> total_num </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">GROUP BY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> class_id, exam_num;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="having-子句" tabindex="-1"><a class="header-anchor" href="#having-子句"><span>having 子句</span></a></h2><p>在 SQL 中，HAVING 子句用于在分组聚合后对分组进行过滤。它允许我们对分组后的结果进行条件筛选，只保留满足特定条件的分组。</p><p>HAVING 子句与条件查询 WHERE 子句的区别在于，WHERE 子句用于在 <strong>分组之前</strong> 进行过滤，而 HAVING 子句用于在 <strong>分组之后</strong> 进行过滤。</p><p>如：有一个学生表 <code>student</code>，包含以下字段：<code>id</code>（学号）、<code>name</code>（姓名）、<code>class_id</code>（班级编号）、<code>score</code>（成绩）。请你编写一个 SQL 查询，统计学生表中班级的总成绩超过 150 分的班级编号（class_id）和总成绩（total_score）。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> class_id, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">SUM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(score) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> total_score </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> student </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">GROUP BY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> class_id </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">HAVING</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> SUM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(score) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 150</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!----></div><footer class="page-footer" data-v-0b649db1 data-v-6789ec36><!----><div class="contributors" data-v-6789ec36><span class="contributors-label" data-v-6789ec36>贡献者: </span><span class="contributors-info" data-v-6789ec36><!--[--><!--[--><span class="contributor" title="email: 3027708213@qq.com" data-v-6789ec36>hongzidan</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-6789ec36><div class="pager" data-v-6789ec36><a class="auto-link link pager-link prev" href="/article/9ytk6ejg/" data-v-6789ec36 data-v-8951c46f><!--[--><span class="desc" data-v-6789ec36>上一页</span><span class="title" data-v-6789ec36>sql进阶</span><!--]--><!----></a></div><div class="pager" data-v-6789ec36><a class="auto-link link pager-link next" href="/article/aqkh9izo/" data-v-6789ec36 data-v-8951c46f><!--[--><span class="desc" data-v-6789ec36>下一页</span><span class="title" data-v-6789ec36>Nginx</span><!--]--><!----></a></div></nav></footer><!----><!--]--></div></div></div></div><button style="display:none;" type="button" class="back-to-top-button" aria-label="back to top" data-v-eb0efd70 data-v-b6c520c3><span class="percent" data-v-b6c520c3>0%</span><span class="show icon vpi-back-to-top" data-v-b6c520c3></span><svg aria-hidden="true" data-v-b6c520c3><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-b6c520c3></circle></svg></button><footer class="plume-footer" data-v-eb0efd70 data-v-fc43f332><div class="container" data-v-fc43f332><p class="message" data-v-fc43f332>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://github.com/pengzhanbo/vuepress-theme-plume">vuepress-theme-plume</a></p><!----></div></footer><!--]--></div><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-CHQIiBnY.js" defer></script></body></html>